<!DOCTYPE html>
<html
  lang="%paraglide.lang%"
  dir="%paraglide.textDirection%"
  data-theme="%theme.current%"
>
  <head>
    <meta charset="utf-8" />
    <!-- CSP -->
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self';
        img-src 'self' data: https://*.trakt.tv https://secure.gravatar.com;
        script-src 'self' 'unsafe-eval' 'unsafe-inline' https://app.trakt.tv https://*.googletagmanager.com;
        script-src-elem 'self' 'unsafe-inline' https://*.googletagmanager.com https://*.cloudflareinsights.com;
        connect-src 'self' https://*.jsdelivr.net https://*.googleapis.com https://*.gstatic.com https://*.google-analytics.com https://*.analytics.google.com https://*.googletagmanager.com https://*.trakt.tv;
        font-src 'self' data: https://fonts.gstatic.com http://fonts.gstatic.com;
        style-src 'self' 'unsafe-inline' https://*.googleapis.com https://*.jsdelivr.net;
      "
    >

    <!-- PWA -->
    <!-- TODO: generate manifest for each lang and translate json properties, then serve correct one according to user language -->
    <link rel="manifest" href="%sveltekit.assets%/manifest.json" />
    <script src="%sveltekit.assets%/register-worker.js?v=%cache.timestamp%">
    </script>
    <meta name="mobile-web-app-capable" content="yes">
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    >
    <meta name="application-name" content="Trakt Lite" />

    <!-- Viewport -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />

    <!-- Icons -->
    <link rel="icon" href="%sveltekit.assets%/favicon.svg" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="%sveltekit.assets%/pwa/ios/apple-touch-icon.png"
    />

    %sveltekit.head%
  </head>
  <body
    data-sveltekit-preload-code="viewport"
    data-sveltekit-preload-data="tap"
  >
    <div style="display: contents">%sveltekit.body%</div>
  </body>
</html>
